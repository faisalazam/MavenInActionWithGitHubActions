<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0-M10 from src/site/markdown/README.md at 2023-06-22
 | Rendered using Apache Maven Fluido Skin 2.0.0-M6
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0-M10" />
    <title>Maven Site In Action With GitHub Action</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-2.0.0-M6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-2.0.0-M6.min.js"></script>
<script src="./js/remove-dollar-sign-from-hrefs.js" type="text/javascript"></script>
    <style>.github-fork-ribbon:before { background-color: gray; }</style>
  </head>
  <body class="topBarEnabled">
    <a class="github-fork-ribbon right-top" href="https://github.com/faisalazam/MavenInActionWithGitHubActions" data-ribbon="Fork me on GitHub" title="Fork me on GitHub">Fork me on GitHub</a>
    <header id="topbar" class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
        <div class="container-fluid">
        <a data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>
            <ul class="nav">
      <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown">Parent Project <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="../../index.html" title="Maven Plugins In Action With GitHub Action">Maven Plugins In Action With GitHub Action</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown">Project Documentation <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li class="dropdown-submenu">
<a href="project-info.html" title="Project Information">Project Information</a>
              <ul class="dropdown-menu">
                  <li><a href="ci-management.html" title="CI Management">CI Management</a></li>
                  <li><a href="dependency-info.html" title="Dependency Information">Dependency Information</a></li>
                  <li><a href="dependency-management.html" title="Dependency Management">Dependency Management</a></li>
                  <li><a href="distribution-management.html" title="Distribution Management">Distribution Management</a></li>
                  <li><a href="index.html" title="About">About</a></li>
                  <li><a href="issue-management.html" title="Issue Management">Issue Management</a></li>
                  <li><a href="licenses.html" title="Licenses">Licenses</a></li>
                  <li><a href="plugin-management.html" title="Plugin Management">Plugin Management</a></li>
                  <li><a href="plugins.html" title="Plugins">Plugins</a></li>
                  <li><a href="scm.html" title="Source Code Management">Source Code Management</a></li>
                  <li><a href="summary.html" title="Summary">Summary</a></li>
                  <li><a href="team.html" title="Team">Team</a></li>
              </ul>
            </li>
        </ul>
      </li>
            </ul>
            <ul class="nav pull-right">
              <li class="dropdown">
                <a class="dropdown-toggle" data-toggle="dropdown">External Links <b class="caret"></b></a>
                <ul class="dropdown-menu">
    <li><a href="scm.html" title="Get Sources">Get Sources</a></li>
                </ul>
              </li>
            </ul>
        </div>
      </div>
    </header>
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
      <li><a href="$https://github.com/faisalazam" class="externalLink" title="LucidTech">LucidTech</a><span class="divider">/</span></li>
      <li><a href="$https://github.com/faisalazam" class="externalLink" title="Muhammad Faisal">Muhammad Faisal</a><span class="divider">/</span></li>
      <li><a href="$https://github.com/faisalazam/MavenInActionWithGitHubActions" class="externalLink" title="MavenInActionWithGitHubActions">MavenInActionWithGitHubActions</a><span class="divider">/</span></li>

    <li class="active ">Maven Site In Action With GitHub Action</li>
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2023-06-22</li>
          <li id="projectVersion" class="pull-right">Version: 0.0.1-SNAPSHOT</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Parent Project</li>
    <li><a href="../../index.html" title="Maven Plugins In Action With GitHub Action"><span class="none"></span>Maven Plugins In Action With GitHub Action</a></li>
    <li class="active"><a><span class="none"></span>README</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
    <div id="twitter" style="border:none; margin-top: 10px">
    <a href="https://twitter.com/mfa1616" class="twitter-follow-button" data-show-count="true" data-align="left" data-size="medium" data-show-screen-name="true" data-lang="en" data-dnt="true" >Follow mfa1616</a>
    <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    </div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://www.jetbrains.com/idea/" title="IntelliJ" class="builtBy"><img class="builtBy"  alt="developed using IntelliJ" src="../../images/intellij_idea_logo.png" style="width: 170px; " /></a>
<a href="https://maven.apache.org/" title="Maven" class="builtBy"><img class="builtBy"  alt="developed using Maven plugins" src="../../images/maven_logo.png" style="width: 170px; " /></a>
<a href="http://www.jetbrains.com/idea/" title="IntelliJ" class="builtBy"><img class="builtBy"  alt="developed using IntelliJ" src="images/intellij_idea_logo.png" style="width: 170px; " /></a>
<a href="https://maven.apache.org/" title="Maven" class="builtBy"><img class="builtBy"  alt="developed using Maven plugins" src="images/maven_logo.png" style="width: 170px; " /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >
<!-- TOC -->
<ul>

<li><a href="#maven-site-in-action">Maven Site In Action</a></li>
<li><a href="#generating-the-project-site">Generating the Project Site</a></li>
<li><a href="#plugins-to-use">Plugins to use</a></li>
<li><a href="#configuring-the-project-site">Configuring the project site</a></li>
<li><a href="#setting-custom-css-or-javascript-site-descriptor-file">Setting custom css or javascript site descriptor file</a></li>
<li><a href="#copying-the-readmemd-file">Copying the README.md file</a></li>
<li><a href="#generating-the-project-site-for-multimodule-project">Generating the Project Site for multimodule project</a></li>
<li><a href="#configuring-reports">Configuring Reports</a></li>
</ul><!-- TOC -->
<section><section>
<h2>Maven Site In Action</h2>
<p>The purpose of this small project is to utilize the <a href="https://maven.apache.org/plugins/maven-site-plugin/" class="externalLink">maven's site</a> plugin to generate the project reports.</p></section><section>
<h2>Generating the Project Site</h2>
<ul>

<li>To clean the <code>target</code> directory, run:
<ul>

<li><code>mvn clean</code></li>
</ul></li>
<li>To generate the project site, run:
<ul>

<li><code>mvn site</code></li>
</ul></li>
<li>To generate the project site with all the submodules, run from the pom aggregator:
<ul>

<li><code>mvn clean site site:stage</code></li>
</ul></li>
</ul></section><section>
<h2>Plugins to use</h2>
<p>We need to add the following couple of plugins (in <a href="pom.xml">pom.xml</a> file):</p>

<div class="verbatim">
<pre><code>&lt;build&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
            &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;
            &lt;version&gt;${maven-site-plugin.version}&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
            &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;
            &lt;version&gt;${maven-project-info-reports-plugin.version}&lt;/version&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;
</code></pre></div>
<p>The generated site will be deployed automatically as part of every push to the GitHub Pages. The deployment will happen using GitHub workflows/actions.</p>
<p>Learn more about <a href="https://maven.apache.org/guides/mini/guide-site.html" class="externalLink">create the documentation for your project</a></p></section><section>
<h2>Configuring the project site</h2>
<p><a href="https://maven.apache.org/guides/mini/guide-site.html#creating-a-site-descriptor" class="externalLink">Site descriptor</a> is the <a href="src/site/site.xml">site.xml</a> file located in <code>src/site</code>. It's a xml file used to configure
the project site. Resources like images, css, js required for the site can be placed in <code>src/site/resources/*</code>.
After the site generation, these resources will be in their respective folders in <code>target/site/*</code>.</p>
<p>Maven site can also be generated without the <a href="src/site/site.xml">site descriptor</a> file, but adding it will give better control
over the content of the site, i.e. adding customisations as well as more links to the generated site; just as we
added the <a href="README.html">README.md</a> file to it.</p></section><section>
<h2>Setting custom css or javascript <a href="src/site/site.xml">site descriptor</a> file</h2>
<p>Below is just some sample code to set custom css or javascript in the <a href="src/site/site.xml">site descriptor</a> file:</p>

<div class="verbatim">
<pre><code>&lt;body&gt;
    &lt;head&gt;
        &lt;![CDATA[&lt;style type=&quot;text/css&quot;&gt;
                        #bannerLeft { margin-top:-20px;margin-bottom:5px !important}
                        #bannerRight { margin-top:-30px;margin-bottom:5px !important}
                        a.externalLink[href^=https]{padding-right:inherit;background-image:none !important}
                        a.externalLink[href^=http]{padding-right:inherit;background-image:none !important}
                    &lt;/style&gt;]]&gt;
        &lt;![CDATA[&lt;script src=&quot;./js/remove-dollar-sign-from-hrefs.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;]]&gt;
    &lt;/head&gt;
&lt;/body&gt;
</code></pre></div></section><section>
<h2>Copying the <a href="README.html">README.md</a> file</h2>
<p>In order to include the <a href="README.html">README.md</a> file in the generated site, it has to be copied to the right location first.
We'll use the <a href="https://maven.apache.org/plugins/maven-resources-plugin/" class="externalLink">maven-resources-plugin</a> to copy the <a href="README.html">README.md</a> file to
the desired location as (in <a href="pom.xml">pom.xml</a> file):</p>

<div class="verbatim">
<pre><code>&lt;build&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;
            &lt;version&gt;${maven-resources-plugin.version}&lt;/version&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;!-- Copy the readme file to the site markdown directory so that a page is generated from it. --&gt;
                    &lt;id&gt;copy-readme&lt;/id&gt;
                    &lt;phase&gt;pre-site&lt;/phase&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;copy-resources&lt;/goal&gt;
                    &lt;/goals&gt;
                    &lt;configuration&gt;
                        &lt;overwrite&gt;true&lt;/overwrite&gt;
                        &lt;outputDirectory&gt;src/site/markdown&lt;/outputDirectory&gt;
                        &lt;resources&gt;
                            &lt;resource&gt;
                                &lt;directory&gt;${basedir}&lt;/directory&gt;
                                &lt;includes&gt;
                                    &lt;include&gt;README.md&lt;/include&gt;
                                &lt;/includes&gt;
                            &lt;/resource&gt;
                        &lt;/resources&gt;
                    &lt;/configuration&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;
</code></pre></div>
<p>Note the use of <code>&lt;overwrite&gt;true&lt;/overwrite&gt;</code>, setting that flag will ensure that the <code>README.md</code> file
always gets copied to <code>src/site/markdown</code>, so that <code>mvn site</code> can pick it up from there for processing.
We have to place the <code>README.md</code> in <code>src/site/markdown</code> as <code>mvn site</code> doesn't seem to pick it up from anywhere else.
<code>src/site/markdown</code> can be added to <code>.gitignore</code> to avoid unnecessary committing of this file.</p></section><section>
<h2>Generating the Project Site for multimodule project</h2>
<p>Running the <code>mvn site</code> from the parent will actually create the <code>target/site</code> folders with proper site generation
for each of the modules, but the problem is, when we try to navigate to the submodule's link from the
parent's site, those links will be broken. In order to fix that issue, a simple solution would be to
configure the stage goal. It will automatically aggregate the documentation of each module in
the <code>${project.baseURI}/target/staging</code> folder. The trick is to add <a href="https://maven.apache.org/pom.html#Site_Distribution" class="externalLink">distributionManagement</a>
to the <a href="../pom.xml">parent pom</a> of all the submodules:</p>

<div class="verbatim">
<pre><code>&lt;distributionManagement&gt;
    &lt;site&gt;
        &lt;id&gt;${project.artifactId}-site&lt;/id&gt;
        &lt;url&gt;${project.baseUri}&lt;/url&gt;
    &lt;/site&gt;
&lt;/distributionManagement&gt;
</code></pre></div></section><section>
<h2>Configuring Reports</h2>
<p>In order to configure a subset of the standard reports which are included by default, include the reporting in <a href="pom.xml">pom.xml</a> file:</p>

<div class="verbatim">
<pre><code>&lt;reporting&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
            &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;
            &lt;version&gt;${maven-project-info-reports-plugin.version}&lt;/version&gt;&lt;!-- define version here if not already defined in build/plugins or build/pluginManagement --&gt;
            &lt;reportSets&gt;
                &lt;reportSet&gt;
                    &lt;reports&gt;
                        &lt;!-- Subset of reports to be included --&gt;
                        &lt;report&gt;index&lt;/report&gt;
                        &lt;report&gt;scm&lt;/report&gt;
                    &lt;/reports&gt;
                &lt;/reportSet&gt;
            &lt;/reportSets&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/reporting&gt;
</code></pre></div>
<p>Learn more about the <a href="https://maven.apache.org/plugins/maven-project-info-reports-plugin/" class="externalLink">Project Info Reports Plugin</a></p><!-- MARKDOWN LINKS & IMAGES -->
<!-- https://www.markdownguide.org/basic-syntax/#reference-style-links -->
</section></section>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
Copyright© 2023 <a href="https://github.com/faisalazam">LucidTech</a>. All Rights Reserved.
        </div>
      </div>
    </footer>
<script>
  if(anchors) {
    anchors.add();
  }
</script>
  </body>
</html>
